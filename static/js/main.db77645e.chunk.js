(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){e.exports=a(23)},23:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(13),i=a.n(l),s=a(1),u=a(2),c=a(4),d=a(3),o=a(5),p=a(7),h={width:100,height:40,borderRadius:20,backgroundColor:"#f9f9f9",fontSize:16,border:"1px solid #e0e0e0",cursor:"pointer",outline:"none"},m=Object(p.a)({},h,{backgroundColor:"#d6d6d6",cursor:"not-allowed"}),v={margin:20,display:"flex",justifyContent:"space-between",minWidth:400};var b,f=function(e){var t=e.prevStep,a=e.nextStep,n=e.submit,l=e.isValid;return r.a.createElement("div",{style:v},t?r.a.createElement("button",{title:"previous step",style:h,onClick:t},"back"):r.a.createElement("div",null),r.a.createElement("button",{title:"next step",style:l?h:m,disabled:!l,onClick:l?a:void 0},n?"submit":"next"))},E=a(6),g={display:"flex",flexDirection:"column",alignItems:"center",marginRight:10},S={marginBottom:20},y={textAlign:"center"},M={minWidth:200,height:40,borderRadius:10,backgroundColor:"#f9f9f9",fontSize:16,border:"1px solid #e0e0e0",padding:"0 5px",outline:"none"},D=(b={width:100,height:40},Object(E.a)(b,"width",40),Object(E.a)(b,"fontSize",25),Object(E.a)(b,"borderRadius","50%"),Object(E.a)(b,"backgroundColor","#f9f9f9"),Object(E.a)(b,"border","1px solid #e0e0e0"),Object(E.a)(b,"cursor","pointer"),Object(E.a)(b,"outline","none"),b),C={color:"red",fontSize:12},O={textAlign:"right",verticalAlign:"top"},j=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).handleMealChange=function(e){a.props.updateState({selectedMeal:e.currentTarget.value,selectedRestaurant:"",selectedDishes:[]})},a.handlePeopleCountChange=function(e){var t=parseInt(e.currentTarget.value);a.props.updateState({peopleCount:Math.max(1,Math.min(10,t))})},a}return Object(o.a)(t,e),Object(u.a)(t,[{key:"areFieldsValid",value:function(){var e=this.props.peopleCount;return e>=1&&e<=10}},{key:"render",value:function(){var e=this.props,t=e.selectedMeal,a=e.peopleCount,n=e.nextStep;return r.a.createElement("div",null,r.a.createElement("div",{style:g},r.a.createElement("div",{style:S},r.a.createElement("div",{style:y},r.a.createElement("label",{htmlFor:"meal-select"},"Please select a meal")),r.a.createElement("select",{id:"meal-select",style:M,value:t,onChange:this.handleMealChange},r.a.createElement("option",{value:"breakfast"},"breakfast"),r.a.createElement("option",{value:"lunch"},"lunch"),r.a.createElement("option",{value:"dinner"},"dinner"))),r.a.createElement("div",null,r.a.createElement("div",{style:y},r.a.createElement("label",{htmlFor:"people-count"},"Please enter the number of people")),r.a.createElement("input",{id:"people-count",type:"number",min:"1",max:"10",style:M,value:a,onChange:this.handlePeopleCountChange}))),r.a.createElement(f,{isValid:this.areFieldsValid(),nextStep:n}))}}]),t}(n.Component),k=a(8),x=new Map;var w=k.dishes.reduce(function(e,t){return e.set(t.id,t),e},new Map),P=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).handleRestaurantChange=function(e){a.props.updateState({selectedRestaurant:e.currentTarget.value,selectedDishes:[]})},a.isFieldValid=function(){return""!==a.props.selectedRestaurant},a}return Object(o.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.selectedMeal,a=e.selectedRestaurant,n=e.prevStep,l=e.nextStep;return r.a.createElement("div",null,r.a.createElement("div",{style:g},r.a.createElement("div",{style:y},r.a.createElement("label",{htmlFor:"restaurant-select"},"please select a restaurant")),r.a.createElement("select",{id:"restaurant-select",style:M,value:a,onChange:this.handleRestaurantChange},r.a.createElement("option",{disabled:!0,value:""},"---"),function(e){var t=x.get(e);if(!t){var a=new Set;k.dishes.filter(function(t){return t.availableMeals.includes(e)}).forEach(function(e){a.add(e.restaurant)}),t=Array.from(a).sort(),x.set(e,t)}return t}(t).map(function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement(f,{isValid:this.isFieldValid(),prevStep:n,nextStep:l}))}}]),t}(n.Component),R=a(14),z=a(9),B=a.n(z),V=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={dishId:"",count:1},a.handleDishChange=function(e){a.setState({dishId:parseInt(e.currentTarget.value)})},a.handlePeopleCountChange=function(e){var t=parseInt(e.currentTarget.value),n=isNaN(t)?"":Math.max(1,t);a.setState({count:n})},a.addDish=function(){var e=a.props.addDish,t=a.state,n=t.dishId,r=t.count;a.validateFields()&&(e({dishId:n,count:r,id:B.a.v4()}),a.setState({dishId:"",count:1}))},a}return Object(o.a)(t,e),Object(u.a)(t,[{key:"validateFields",value:function(){var e=this.props.setError,t=this.state,a=t.dishId,n=t.count;return""===a?(e("You must choose a dish first"),!1):""!==n&&n>=1||(e("You must set a valid number"),!1)}},{key:"render",value:function(){var e=this.props,t=e.filteredDishes,a=e.selectedDishes,n=this.state,l=n.dishId,i=n.count,s=a.filter(function(e){return e.dishId}).reduce(function(e,t){return e.add(t.dishId),e},new Set);return r.a.createElement("div",null,r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("div",{style:g},r.a.createElement("label",null,"Please select a dish"),r.a.createElement("select",{value:l,style:M,onChange:this.handleDishChange},r.a.createElement("option",{disabled:!0,value:""},"---"),t.filter(function(e){return!s.has(e.id)}).map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))),r.a.createElement("div",{style:g},r.a.createElement("label",null,"Please enter no of serving"),r.a.createElement("input",{type:"number",min:"1",style:M,value:i,onChange:this.handlePeopleCountChange}))),r.a.createElement("button",{style:D,onClick:this.addDish},"+"))}}]),t}(n.Component),F=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(u.a)(t,[{key:"removeDishWrapper",value:function(e){var t=this.props.removeDish;t&&t(e)}},{key:"render",value:function(){var e=this,t=this.props,a=t.selectedDishes,n=t.removeDish;return r.a.createElement("div",null,r.a.createElement("table",null,r.a.createElement("tbody",null,a.map(function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,w.get(t.dishId).name),r.a.createElement("td",null,t.count),n&&r.a.createElement("td",null,r.a.createElement("button",{onClick:e.removeDishWrapper.bind(e,t.id)},"delete")," "))}))))}}]),t}(n.Component),I=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).addDish=function(e){var t=a.props.selectedDishes;a.updateDishes([].concat(Object(R.a)(t),[e]))},a.removeDish=function(e){var t=a.props.selectedDishes;a.updateDishes(t.filter(function(t){return t.id!==e}))},a.setError=function(e){a.setState({error:e})},a.nextStepWrapper=function(){a.validateFields()&&a.props.nextStep()},a.state=a.buildFilteredDishesState(),a}return Object(o.a)(t,e),Object(u.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.props.selectedMeal===e.selectedMeal&&this.props.selectedRestaurant===e.selectedRestaurant||this.setState(this.buildFilteredDishesState(e))}},{key:"buildFilteredDishesState",value:function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return{error:"",filteredDishes:(e=a.selectedMeal,t=a.selectedRestaurant,k.dishes.filter(function(a){return a.restaurant===t&&a.availableMeals.includes(e)}))}}},{key:"updateDishes",value:function(e){var t=this.props.updateState,a=this.state.error;t({selectedDishes:e}),a&&this.validateFields(e)}},{key:"validateFields",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.selectedDishes,t=this.props.peopleCount;if(0===e.length)return this.setError("You must add at least one serving"),!1;var a=e.reduce(function(e,t){return e+t.count},0);return a<t?(this.setError("You must select more servings (".concat(a,"/").concat(t,")")),!1):(this.setError(""),!0)}},{key:"render",value:function(){var e=this.props,t=e.selectedDishes,a=e.prevStep,n=this.state,l=n.filteredDishes,i=n.error;return r.a.createElement("div",null,r.a.createElement(F,{selectedDishes:t,removeDish:this.removeDish}),t.length<l.length&&r.a.createElement(V,{selectedDishes:t,filteredDishes:l,addDish:this.addDish,setError:this.setError}),i&&r.a.createElement("div",{style:C},i),r.a.createElement(f,{isValid:!0,prevStep:a,nextStep:this.nextStepWrapper}))}}]),t}(n.Component),T=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.selectedDishes,a=e.selectedMeal,n=e.selectedRestaurant,l=e.peopleCount,i=e.prevStep,s=e.submit;return r.a.createElement("div",null,r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{style:O},"Meal:"),r.a.createElement("td",null,a)),r.a.createElement("tr",null,r.a.createElement("td",{style:O},"No of people:"),r.a.createElement("td",null,l)),r.a.createElement("tr",null,r.a.createElement("td",{style:O},"Restaurant:"),r.a.createElement("td",null,n)),r.a.createElement("tr",null,r.a.createElement("td",{style:O},"Dishes:"),r.a.createElement("td",null,r.a.createElement(F,{selectedDishes:t}))))),r.a.createElement(f,{isValid:!0,submit:!0,prevStep:i,nextStep:s}))}}]),t}(n.Component),W={display:"flex",overflow:"hidden",borderRadius:10,border:"1px solid #e0e0e0",margin:20},A={padding:"5px 15px",backgroundColor:"#d6d6d6"},G=Object(p.a)({},A,{backgroundColor:"#fff"}),H=Object(p.a)({},A,{backgroundColor:"#f9f9f9",borderBottom:"2px solid #396fff"}),Q=["step 1","step 2","step 3","review"],Y=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.currentStep;return r.a.createElement("div",{style:W},Q.map(function(t,a){var n=A;return a<e?n=G:a===e&&(n=H),r.a.createElement("div",{key:t,style:n},t)}))}}]),t}(n.Component),N={display:"flex",flexDirection:"column",alignItems:"center"},J=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={step:0,selectedMeal:"lunch",peopleCount:1,selectedRestaurant:"",selectedDishes:[]},a.updateState=function(e){a.setState(e)},a.prevStep=function(){var e=a.state.step;a.updateStep(e-1)},a.nextStep=function(){var e=a.state.step;a.updateStep(e+1)},a.submit=function(){var e=a.state,t=e.selectedMeal,n=e.peopleCount,r=e.selectedRestaurant,l=e.selectedDishes;console.log("result",{selectedMeal:t,peopleCount:n,selectedRestaurant:r,selectedDishes:l})},a}return Object(o.a)(t,e),Object(u.a)(t,[{key:"updateStep",value:function(e){this.updateState({step:e})}},{key:"getView",value:function(){var e=this.state,t=e.step,a=e.selectedMeal,n=e.peopleCount,l=e.selectedRestaurant,i=e.selectedDishes;switch(t){case 3:return r.a.createElement(T,{prevStep:this.prevStep,submit:this.submit,selectedMeal:a,selectedRestaurant:l,peopleCount:n,selectedDishes:i});case 2:return r.a.createElement(I,{prevStep:this.prevStep,nextStep:this.nextStep,updateState:this.updateState,selectedMeal:a,selectedRestaurant:l,peopleCount:n,selectedDishes:i});case 1:return r.a.createElement(P,{prevStep:this.prevStep,nextStep:this.nextStep,updateState:this.updateState,selectedMeal:a,selectedRestaurant:l});case 0:default:return r.a.createElement(j,{nextStep:this.nextStep,updateState:this.updateState,selectedMeal:a,peopleCount:n})}}},{key:"render",value:function(){var e=this.state.step;return r.a.createElement("div",{style:N},r.a.createElement(Y,{currentStep:e,updateStep:this.updateStep}),this.getView())}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var K=document.getElementById("root");K&&i.a.render(r.a.createElement(J,null),K),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},8:function(e){e.exports={dishes:[{id:1,name:"Chicken Burger",restaurant:"Mc Donalds",availableMeals:["lunch","dinner"]},{id:2,name:"Ham Burger",restaurant:"Mc Donalds",availableMeals:["lunch","dinner"]},{id:3,name:"Cheese Burger",restaurant:"Mc Donalds",availableMeals:["lunch","dinner"]},{id:4,name:"Fries",restaurant:"Mc Donalds",availableMeals:["lunch","dinner"]},{id:5,name:"Egg Muffin",restaurant:"Mc Donalds",availableMeals:["breakfast"]},{id:6,name:"Burrito",restaurant:"Taco Bell",availableMeals:["lunch","dinner"]},{id:7,name:"Tacos",restaurant:"Taco Bell",availableMeals:["lunch","dinner"]},{id:8,name:"Quesadilla",restaurant:"Taco Bell",availableMeals:["lunch","dinner"]},{id:9,name:"Steak",restaurant:"BBQ Hut",availableMeals:["dinner"]},{id:10,name:"Yakitori",restaurant:"BBQ Hut",availableMeals:["dinner"]},{id:11,name:"Nankotsu",restaurant:"BBQ Hut",availableMeals:["dinner"]},{id:12,name:"Piman",restaurant:"BBQ Hut",availableMeals:["dinner"]},{id:13,name:"Vegan Bento",restaurant:"Vege Deli",availableMeals:["lunch"]},{id:14,name:"Coleslaw Sandwich",restaurant:"Vege Deli",availableMeals:["breakfast"]},{id:15,name:"Grilled Sandwich",restaurant:"Vege Deli",availableMeals:["breakfast"]},{id:16,name:"Veg. Salad",restaurant:"Vege Deli",availableMeals:["lunch","dinner"]},{id:17,name:"Fruit Salad",restaurant:"Vege Deli",availableMeals:["lunch","dinner"]},{id:18,name:"Corn Soup",restaurant:"Vege Deli",availableMeals:["lunch","dinner"]},{id:19,name:"Tomato Soup",restaurant:"Vege Deli",availableMeals:["lunch","dinner"]},{id:20,name:"Minestrone Soup",restaurant:"Vege Deli",availableMeals:["lunch","dinner"]},{id:21,name:"Pepperoni Pizza",restaurant:"Pizzeria",availableMeals:["lunch","dinner"]},{id:22,name:"Pepperoni Pizza",restaurant:"Pizzeria",availableMeals:["lunch","dinner"]},{id:23,name:"Hawaiian Pizza",restaurant:"Pizzeria",availableMeals:["lunch","dinner"]},{id:24,name:"Seafood Pizza",restaurant:"Pizzeria",availableMeals:["lunch","dinner"]},{id:25,name:"Deep Dish Pizza",restaurant:"Pizzeria",availableMeals:["dinner"]},{id:26,name:"Chow Mein",restaurant:"Panda Express",availableMeals:["lunch","dinner"]},{id:27,name:"Mapo Tofu",restaurant:"Panda Express",availableMeals:["lunch","dinner"]},{id:28,name:"Kung Pao",restaurant:"Panda Express",availableMeals:["lunch","dinner"]},{id:29,name:"Wontons",restaurant:"Panda Express",availableMeals:["lunch","dinner"]},{id:30,name:"Garlic Bread",restaurant:"Olive Garden",availableMeals:["breakfast","lunch","dinner"]},{id:31,name:"Ravioli",restaurant:"Olive Garden",availableMeals:["lunch","dinner"]},{id:32,name:"Rigatoni Spaghetti",restaurant:"Olive Garden",availableMeals:["lunch","dinner"]},{id:33,name:"Fettucine Pasta",restaurant:"Olive Garden",availableMeals:["lunch","dinner"]}]}}},[[15,2,1]]]);
//# sourceMappingURL=main.db77645e.chunk.js.map